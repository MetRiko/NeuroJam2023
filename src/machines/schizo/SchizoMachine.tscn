[gd_scene load_steps=10 format=3 uid="uid://ca8gonntqh454"]

[ext_resource type="Script" path="res://src/machines/schizo/SchizoMachine.gd" id="1_u2qpq"]
[ext_resource type="PackedScene" uid="uid://ccbcan48m71ri" path="res://src/objects/SchizoPill.tscn" id="2_huhk7"]
[ext_resource type="Texture2D" uid="uid://c5hg8mwt8lgdt" path="res://icon.svg" id="2_ybvny"]
[ext_resource type="Script" path="res://src/machines/schizo/Launcher.gd" id="3_gb64e"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gmn4v"]
size = Vector2(5, 144)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mkmh2"]
size = Vector2(5, 143.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cy843"]
size = Vector2(42, 11)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nm3j7"]
size = Vector2(68, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ptvry"]
size = Vector2(31, 10)

[node name="SchizoMachine" type="Node2D" node_paths=PackedStringArray("pill_spawnpoint")]
script = ExtResource("1_u2qpq")
pill_tscn = ExtResource("2_huhk7")
pill_spawnpoint = NodePath("PillSpawnPoint")
pill_spawn_time = 5.0

[node name="Tube" type="StaticBody2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="Sprite2D" type="Sprite2D" parent="Tube"]
scale = Vector2(0.328125, 1.10938)
texture = ExtResource("2_ybvny")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Tube"]
position = Vector2(-18.5, 0)
shape = SubResource("RectangleShape2D_gmn4v")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Tube"]
position = Vector2(18.5, 0.25)
shape = SubResource("RectangleShape2D_mkmh2")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Tube"]
position = Vector2(0, 66.5)
shape = SubResource("RectangleShape2D_cy843")

[node name="Launcher" type="RigidBody2D" parent="Tube"]
position = Vector2(0, -4)
collision_layer = 8
mass = 1000.0
gravity_scale = 0.0
max_contacts_reported = 1
contact_monitor = true
script = ExtResource("3_gb64e")
position_threshold = 50.0
launch_force = 4e+06
launch_force_time = 1.0

[node name="Sprite2D" type="Sprite2D" parent="Tube/Launcher"]
position = Vector2(-18, 0)
scale = Vector2(0.53125, 0.0625)
texture = ExtResource("2_ybvny")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Tube/Launcher"]
position = Vector2(-18, 0)
shape = SubResource("RectangleShape2D_nm3j7")

[node name="Area2D" type="Area2D" parent="Tube/Launcher"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Tube/Launcher/Area2D"]
position = Vector2(-36.5, 0)
shape = SubResource("RectangleShape2D_ptvry")
debug_color = Color(0.749425, 0.351772, 0.75804, 0.42)

[node name="LaunchTimer" type="Timer" parent="Tube/Launcher"]
one_shot = true

[node name="GrooveJoint2D" type="GrooveJoint2D" parent="."]
position = Vector2(0, -4)
node_a = NodePath("../Tube/Launcher")
node_b = NodePath("../Tube")
length = 58.0
initial_offset = 1.0

[node name="PillSpawnTimer" type="Timer" parent="."]
one_shot = true

[node name="PillSpawnPoint" type="Node2D" parent="."]
position = Vector2(0, -21)
